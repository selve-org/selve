# Backend Environment Template
# Copy this to .env and fill in your values

# Environment (development, production, staging)
# This controls:
# - Which database to use (DATABASE_URL_DEV or DATABASE_URL_PROD)
# - Which frontend URL for invite links (localhost vs selve.me)
ENVIRONMENT=development

# Database URLs (Neon PostgreSQL)
# Create separate branches in Neon for dev/prod isolation
DATABASE_URL_DEV=postgresql://user:pass@ep-dev-endpoint.neon.tech/selve_db?sslmode=require&channel_binding=require
DATABASE_URL_PROD=postgresql://user:pass@ep-prod-endpoint.neon.tech/selve_db?sslmode=require&channel_binding=require

# Legacy (for backwards compatibility, but auto-selected now)
DATABASE_URL=${DATABASE_URL_DEV}

# FastAPI Configuration
FASTAPI_HOST=0.0.0.0
FASTAPI_PORT=8000
FASTAPI_RELOAD=true

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000
# Production: https://selve.me

# CORS Origins (Next.js frontend URLs)
CORS_ORIGINS=http://localhost:3000

# Clerk Authentication (environment-based)
# Get these from https://dashboard.clerk.com/ → API Keys

# Development keys (test mode)
# Format: pretty-boxer-70.clerk.accounts.dev
CLERK_DOMAIN_DEV=your-app-name.clerk.accounts.dev
CLERK_SECRET_KEY_DEV=sk_test_your_dev_secret_key
CLERK_WEBHOOK_SECRET_DEV=whsec_your_dev_webhook_secret

# Production keys (live mode)
# Format: clerk.yourdomain.com (requires custom domain setup)
CLERK_DOMAIN_PROD=clerk.yourdomain.com
CLERK_SECRET_KEY_PROD=sk_live_your_prod_secret_key
CLERK_WEBHOOK_SECRET_PROD=whsec_your_prod_webhook_secret

# Active keys (auto-selected based on ENVIRONMENT)
CLERK_DOMAIN=${CLERK_DOMAIN_DEV}
CLERK_SECRET_KEY=${CLERK_SECRET_KEY_DEV}
CLERK_WEBHOOK_SECRET=${CLERK_WEBHOOK_SECRET_DEV}

# OpenAI Configuration (environment-based)
# Get keys from https://platform.openai.com/api-keys
OPENAI_API_KEY_DEV=sk-proj-your_dev_openai_key_here
OPENAI_API_KEY_PROD=sk-proj-your_prod_openai_key_here

# Active key (auto-selected based on ENVIRONMENT)
OPENAI_API_KEY=${OPENAI_API_KEY_DEV}

# Model Selection (default: gpt-5-nano)
# Options: gpt-5-nano, gpt-5-mini, gpt-5, gpt-4o-mini
OPENAI_MODEL=gpt-4o-mini

# GPT-5 Parameters (for gpt-5* models)
OPENAI_REASONING_EFFORT=low          # minimal, low, medium, high
OPENAI_TEXT_VERBOSITY=medium         # low, medium, high
OPENAI_MAX_OUTPUT_TOKENS=1000

# GPT-4 Parameters (for gpt-4* models)
OPENAI_TEMPERATURE=0.7               # 0.0-2.0
OPENAI_TOP_P=0.9                     # 0.0-1.0

# API Settings
OPENAI_MAX_RETRIES=3
OPENAI_TIMEOUT=60

# Mailgun Email Service (environment-based)
# Get credentials from: Mailgun Dashboard → Sending → Domain Settings

# Development keys (sandbox domain with authorized recipients)
# Get from: Mailgun Dashboard → Sending → Domain Settings → sandbox domain
MAILGUN_API_KEY_DEV=your_dev_mailgun_api_key_here
MAILGUN_DOMAIN_DEV=sandboxXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.mailgun.org

# Production keys (custom domain)
# Get from: Mailgun Dashboard → Sending → Domain Settings → mg.selve.me
MAILGUN_API_KEY_PROD=your_prod_mailgun_api_key_here
MAILGUN_DOMAIN_PROD=mg.selve.me

# Active keys (auto-selected based on ENVIRONMENT)
MAILGUN_API_KEY=${MAILGUN_API_KEY_DEV}
MAILGUN_DOMAIN=${MAILGUN_DOMAIN_DEV}
MAILGUN_BASE_URL=https://api.mailgun.net

# Important Notes:
# - Sandbox domain can only send to authorized recipients
# - Add test emails in Mailgun Dashboard → Authorized Recipients
# - Production domain requires DNS records (SPF, DKIM, CNAME)
